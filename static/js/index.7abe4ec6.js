(()=>{"use strict";var e={4437:function(e,i,r){var t=r("651"),s=r("4303"),n=r("2379");r("1114");var l=r("6199"),a=r("2312");let d={MODERNJS_FRAMEWORK:"modernjs-framework",RSBUILD:"rsbuild",RSLIB:"rslib",RSPRESS:"rspress",RSPACK:"rspack"},c={BUNDLE_SIZE:"bundle-size",COMPILE_SPEED:"compile-speed",INSTALL_SPEED:"install-speed",CLI_SPEED:"cli-speed",BINARY_SIZE:"binary-size"},o={[d.MODERNJS_FRAMEWORK]:["app-minimal","app-initial","app-initial-rspack","app-tailwind","app-ssr","app-ssg","app-bff-koa","app-arco-pro","app-arco-pro-swc","app-arco-pro-esbuild","app-arco-pro-rspack"],[d.RSPRESS]:["rspress-minimal","rspress-website","rspress-website-mdxjs"],[d.RSBUILD]:["rsbuild-react","rsbuild-react-app-10k","rsbuild-arco-pro","rsbuild-vue3","rsbuild-lit","rsbuild-svelte","rsbuild-vanilla"],[d.RSLIB]:["rslib-node-basic","rslib-react-basic"]},m={[d.MODERNJS_FRAMEWORK]:["app-initial","app-initial-rspack"],[d.RSPRESS]:["rspress-website","rspress-website-mdxjs"],[d.RSBUILD]:["rsbuild-react","rsbuild-arco-pro"],[d.RSLIB]:["rslib-node-basic","rslib-react-basic"]},u={[d.MODERNJS_FRAMEWORK]:["minifiedBundleSize","gzippedBundleSize"],[d.RSPRESS]:["gzipInitialJsSize","initialJsSize","minifiedBundleSize","gzippedBundleSize"],[d.RSBUILD]:["minifiedBundleSize","gzippedBundleSize"],[d.RSLIB]:["esmBundleSize","cjsBundleSize","esmGzipBundleSize","cjsGzipBundleSize"]},p={[d.MODERNJS_FRAMEWORK]:["app-arco-pro","app-arco-pro-rspack"],[d.RSPRESS]:["rspress-website","rspress-website-mdxjs"],[d.RSBUILD]:["rsbuild-react","rsbuild-arco-pro"],[d.RSLIB]:["rslib-node-basic","rslib-react-basic"]},x={[d.MODERNJS_FRAMEWORK]:["buildColdBootTime","buildHotBootTime","beforeBuildTime","buildPluginSetupTime","buildPrepareTime","devColdBootTime","devHotBootTime","beforeDevTime","devPluginSetupTime","devPrepareTime"],[d.RSPRESS]:["buildColdBootTime","devColdBootTime","beforeBuildTime","beforeDevTime","routeGenerateTime"],[d.RSBUILD]:["buildColdBootTime","devColdBootTime","beforeBuildTime","beforeDevTime"],[d.RSLIB]:["buildEsmTotalTime","buildCjsTotalTime","buildEsmJsTime","buildCjsJsTime","beforeBuildTime"]},S={[d.MODERNJS_FRAMEWORK]:["app-initial","app-initial-rspack"],[d.RSPRESS]:["rspress-minimal","rspress-website"],[d.RSBUILD]:["rsbuild-vanilla","rsbuild-react"],[d.RSLIB]:["rslib-node-basic","rslib-react-basic"]},h=["installSize","dependenciesCount","coldInstallTime","hotInstallTime"],f={[d.MODERNJS_FRAMEWORK]:h,[d.RSPRESS]:h,[d.RSBUILD]:h,[d.RSLIB]:h},j={height:400,seriesField:"category",xField:"x",yField:"y",xAxis:{label:{formatter:e=>e.split(" ")[0]},nice:!0},yAxis:{nice:!0},point:{size:3},stepType:"vh"},b=l.zo.div`
  position: fixed;
  display: flex;
  z-index: 1;
  top: 0;
  left: 0;
  right: 0;
  height: 56px;
  padding: 4px ${24}px;
  background-color: #fff;
  align-items: center;
  justify-content: space-between;
  border-bottom: 1px solid #e8e8e8;
`,R=l.zo.div`
  display: flex;
  font-size: 18px;
  align-items: center;
  color: #111;
`,g=l.zo.img`
  height: 100%;
`,y=l.zo.div`
  width: 48px;
  height: 36px;
  overflow: hidden;
  margin-right: 16px;
`,E=l.zo.a`
  display: flex;
  align-items: center;
  font-size: 28px;
  color: #222;
`,I=()=>(0,t.jsx)(E,{target:"_blank",href:"https://github.com/web-infra-dev/web-infra-QoS",children:(0,t.jsx)(a.Z,{})}),B=()=>(0,t.jsxs)(b,{className:"nav-bar",children:[(0,t.jsxs)(R,{children:[(0,t.jsx)(y,{children:(0,t.jsx)(g,{src:"/web-infra.png"})}),"Web Infra QoS Dashboard"]}),(0,t.jsx)(I,{})]});r("7939");var v=r("4450"),D=r("8329"),N=r("3100"),T=r("3890"),_=r("3112"),M=r("2703"),L=r("3603"),w=r("1431"),Z=r("7583"),O=r("353");let P=O.Z.Item,$=O.Z.SubMenu,C={display:"flex",alignItems:"center",height:38,fontSize:13},z=l.zo.div`
  position: fixed;
  top: 56px;
  left: 0;
  bottom: 0;
  width: 260px;
  background: #fff;
  overflow: auto;
`,A=e=>(0,t.jsx)(z,{children:(0,t.jsxs)(O.Z,{mode:"vertical",style:{padding:"16px 4px",fontSize:15},openKeys:e.openKeys,selectedKeys:e.selectedKeys,onClickMenuItem:e.onClickMenuItem,onClickSubMenu:e.onClickSubMenu,children:[(0,t.jsxs)($,{title:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(w.Z,{})," Rsbuild"]}),children:[(0,t.jsxs)(P,{style:C,children:[(0,t.jsx)(T.Z,{}),"Compile Speed"]},`${d.RSBUILD}_${c.COMPILE_SPEED}`),(0,t.jsxs)(P,{style:C,children:[(0,t.jsx)(N.Z,{}),"Install Speed"]},`${d.RSBUILD}_${c.INSTALL_SPEED}`),(0,t.jsxs)(P,{style:C,children:[(0,t.jsx)(_.Z,{}),"Bundle Size"]},`${d.RSBUILD}_${c.BUNDLE_SIZE}`)]},d.RSBUILD),(0,t.jsxs)($,{title:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(D.Z,{})," Rspack"]}),children:[(0,t.jsxs)(P,{children:[(0,t.jsx)(M.Z,{}),(0,t.jsx)("span",{style:{marginLeft:"4px"},children:"Binary Size"})]},`${d.RSPACK}_${c.BINARY_SIZE}`),(0,t.jsxs)(P,{children:[(0,t.jsx)(M.Z,{}),(0,t.jsx)("span",{style:{marginLeft:"4px"},children:"Benchmark"})]},`${d.RSPACK}_benchmark`)]},d.RSPACK),(0,t.jsxs)($,{title:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(L.Z,{})," Rspress"]}),children:[(0,t.jsxs)(P,{style:C,children:[(0,t.jsx)(T.Z,{}),"Compile Speed"]},`${d.RSPRESS}_${c.COMPILE_SPEED}`),(0,t.jsxs)(P,{style:C,children:[(0,t.jsx)(N.Z,{}),"Install Speed"]},`${d.RSPRESS}_${c.INSTALL_SPEED}`),(0,t.jsxs)(P,{style:C,children:[(0,t.jsx)(_.Z,{}),"Bundle Size"]},`${d.RSPRESS}_${c.BUNDLE_SIZE}`)]},d.RSPRESS),(0,t.jsxs)($,{title:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.Z,{})," Rslib"]}),children:[(0,t.jsxs)(P,{style:C,children:[(0,t.jsx)(T.Z,{}),"Compile Speed"]},`${d.RSLIB}_${c.COMPILE_SPEED}`),(0,t.jsxs)(P,{style:C,children:[(0,t.jsx)(N.Z,{}),"Install Speed"]},`${d.RSLIB}_${c.INSTALL_SPEED}`),(0,t.jsxs)(P,{style:C,children:[(0,t.jsx)(_.Z,{}),"Bundle Size"]},`${d.RSLIB}_${c.BUNDLE_SIZE}`)]},d.RSLIB),(0,t.jsxs)($,{title:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Z.Z,{})," Modern.js"]}),children:[(0,t.jsxs)(P,{style:C,children:[(0,t.jsx)(T.Z,{}),"Compile Speed"]},`${d.MODERNJS_FRAMEWORK}_${c.COMPILE_SPEED}`),(0,t.jsxs)(P,{style:C,children:[(0,t.jsx)(N.Z,{}),"Install Speed"]},`${d.MODERNJS_FRAMEWORK}_${c.INSTALL_SPEED}`),(0,t.jsxs)(P,{style:C,children:[(0,t.jsx)(_.Z,{}),"Bundle Size"]},`${d.MODERNJS_FRAMEWORK}_${c.BUNDLE_SIZE}`)]},d.MODERNJS_FRAMEWORK)]})});r("9973"),r("8147");var k=r("4067"),K=r("2081"),F=r("1725");r("2935"),r("8333"),r("9366"),r("2734"),r("2706");var U=r("4661"),J=r("4834"),W=r("5078"),Y=r("4688"),H=r("6282");let G=e=>{var i;let{productName:r,metrics:s,initialCase:n}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(k.Z.Title,{heading:6,style:{marginBottom:24},children:"Add category by Cases and Metrics:"}),(0,t.jsxs)(H.Z.Row,{gutter:40,children:[(0,t.jsx)(H.Z.Col,{span:8,children:(0,t.jsx)(Y.Z.Item,{label:"Cases",field:"caseName",initialValue:n[0],style:{marginBottom:8},children:(0,t.jsx)(J.Z,{children:null===(i=o[r])||void 0===i?void 0:i.map(e=>(0,t.jsx)(J.Z.Option,{value:e,children:e},e))})})}),(0,t.jsx)(H.Z.Col,{span:8,children:(0,t.jsx)(Y.Z.Item,{label:"Metrics",field:"metricsName",initialValue:s[0],style:{marginBottom:8},children:(0,t.jsx)(J.Z,{children:s.map(e=>(0,t.jsx)(J.Z.Option,{value:e,children:e},e))})})}),(0,t.jsx)(H.Z.Col,{span:8,children:(0,t.jsx)(W.Z,{type:"primary",htmlType:"submit",style:{width:80},children:"Add"})})]})]})},Q=e=>(0,t.jsxs)(K.Z,{bordered:!1,style:{marginBottom:24},children:[(0,t.jsx)(Y.Z,{layout:"horizontal",labelAlign:"left",onSubmit:e.handleAddData,children:(0,t.jsx)(G,{...e})}),e.renderChoicesTags()]}),V=(e,i)=>{let[r,s]=(0,n.useState)([{case:e[0],metric:i},{case:e[1],metric:i}]),l=e=>{let i=[...r];i.splice(e,1),s(i)};return{categories:r,handleAddData:e=>{let i={case:e.caseName,metric:e.metricsName};!r.some(i=>i.case===e.caseName&&i.metric===e.metricsName)&&s([...r,i])},renderChoicesTags:()=>(0,t.jsx)("div",{style:{display:"flex",flexWrap:"wrap",marginTop:24},children:r.map((e,i)=>(0,t.jsx)("div",{style:{marginRight:12,marginBottom:12},children:(0,t.jsx)(U.Z,{closable:!0,onClose:()=>l(i),children:`${e.case} + ${e.metric}`},`${e.case}_${e.metric}`)},i))})}};var q=r("5829");let X=async e=>{let i=await q.getItem(e).catch(()=>{});if(i){let{data:e,timestamp:r}=i,t=new Date().getTime();if(t-r<=432e5)return e}let r=await fetch(e).then(e=>e.json()).catch(()=>{});if(r){let i={data:r,timestamp:new Date().getTime()};await q.setItem(e,i)}return r},ee=async(e,i)=>{let r=await X(`/data/${e}/${i}.json`);return Object.keys(r).map(e=>({id:e,time:r[e].time,metrics:r[e]}))};var ei=r("7651"),er=r.n(ei);let et=e=>er()(e).format("YY-MM-DD HH:mm"),es=e=>`${et(e.time)}（${e.id}）`,en=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"KB";return"KB"===i?e/=1024:"MB"===i&&(e=e/1024/1024),Number(e.toFixed(2))},el=e=>Number((e/1e3).toFixed(2)),ea=(e,i,r)=>{let t=[];return e.forEach((e,s)=>{let n=e.map(e=>({...e,caseName:i[s],metricsName:r[s]}));t.push(...n)}),t.sort((e,i)=>e.time-i.time).filter(e=>e.metrics[e.metricsName])},ed=(e,i,r)=>ea(e,i,r).map(e=>({category:`${e.caseName} + ${e.metricsName}`,x:es(e),y:en(e.metrics[e.metricsName])})),ec=e=>{let i=e.productIndex,r=(0,n.useRef)(null),s=(0,n.useRef)(null),{categories:l,handleAddData:a,renderChoicesTags:c}=V(m[i],u[i][0]),o=l.map(e=>e.case),p=l.map(e=>e.metric),x=e=>{let{root:r,results:t,caseNames:n,metricsNames:l}=e,a=ed(t,n,l);s.current?s.current.changeData(a):r&&(s.current=new F.x1(r,{...j,data:a,yAxis:{label:{formatter:e=>`${e} KB`},nice:!0},tooltip:{fields:["x","y","category"],formatter:e=>({name:e.category,value:`${e.y} KB`})},slider:{start:i===d.MODERNJS_FRAMEWORK?.85:0,end:1}}),s.current.render())};return(0,n.useEffect)(()=>{(async()=>{let e=o.map(e=>ee(i,e));x({results:await Promise.all(e),caseNames:o,metricsNames:p,root:r.current})})()},[l]),(0,t.jsxs)("div",{style:{padding:24},children:[(0,t.jsx)(Q,{productName:i,metrics:u[i],initialCase:m[i],handleAddData:a,renderChoicesTags:c}),(0,t.jsxs)(K.Z,{bordered:!1,style:{height:464},children:[(0,t.jsx)(k.Z.Title,{heading:5,style:{marginTop:0},children:"Trending"}),(0,t.jsx)("div",{ref:r})]})]})},eo=(e,i,r)=>ea(e,i,r).map(e=>({category:`${e.caseName} + ${e.metricsName}`,x:es(e),y:el(e.metrics[e.metricsName])})),em=e=>{let i=e.productIndex,r=(0,n.useRef)(null),s=(0,n.useRef)(null),{categories:l,handleAddData:a,renderChoicesTags:c}=V(p[i],x[i][0]),o=l.map(e=>e.case),m=l.map(e=>e.metric),u=e=>{let{root:r,results:t,caseNames:n,metricsNames:l}=e,a=eo(t,n,l);s.current?s.current.changeData(a):r&&(s.current=new F.x1(r,{...j,data:a,yAxis:{label:{formatter:e=>`${e} s`},nice:!0},tooltip:{fields:["x","y","category"],formatter:e=>({name:e.category,value:e.y+"s"})},slider:{start:i===d.MODERNJS_FRAMEWORK?.85:0,end:1}}),s.current.render())};return(0,n.useEffect)(()=>{(async()=>{let e=o.map(e=>ee(i,e));u({results:await Promise.all(e),caseNames:o,metricsNames:m,root:r.current})})()},[l]),(0,t.jsxs)("div",{style:{padding:24},children:[(0,t.jsx)(Q,{productName:i,metrics:x[i],initialCase:p[i],handleAddData:a,renderChoicesTags:c}),(0,t.jsxs)(K.Z,{bordered:!1,style:{height:464},children:[(0,t.jsx)(k.Z.Title,{heading:5,style:{marginTop:0},children:"Trending"}),(0,t.jsx)("div",{ref:r})]})]})},eu=(e,i,r)=>ea(e,i,r).map(e=>{let i;let r=e.metrics[e.metricsName];switch(e.metricsName){case"installSize":i=en(r,"MB");break;case"hotInstallTime":case"coldInstallTime":i=el(r);break;default:i=r}return{metricsName:e.metricsName,category:`${e.caseName} + ${e.metricsName}`,x:es(e),y:i}}),ep=e=>{let i=e.productIndex,r=(0,n.useRef)(null),s=(0,n.useRef)(null),{categories:l,handleAddData:a,renderChoicesTags:c}=V(S[i],f[i][0]),o=l.map(e=>e.case),m=l.map(e=>e.metric),u=e=>{let{root:r,results:t,caseNames:n,metricsNames:l}=e,a=eu(t,n,l);s.current?s.current.changeData(a):r&&(s.current=new F.x1(r,{...j,data:a,tooltip:{fields:["x","y","category","metricsName"],formatter:e=>{let i=e.y;return"installSize"===e.metricsName&&(i+="MB"),("coldInstallTime"===e.metricsName||"hotInstallTime"===e.metricsName)&&(i+="s"),{name:e.category,value:i}}},slider:{start:i===d.MODERNJS_FRAMEWORK?.85:0,end:1}}),s.current.render())};return(0,n.useEffect)(()=>{(async()=>{let e=o.map(e=>ee(i,e));u({results:await Promise.all(e),caseNames:o,metricsNames:m,root:r.current})})()},[l]),(0,t.jsxs)("div",{style:{padding:24},children:[(0,t.jsx)(Q,{productName:i,metrics:f[i],initialCase:S[i],handleAddData:a,renderChoicesTags:c}),(0,t.jsxs)(K.Z,{bordered:!1,style:{height:464},children:[(0,t.jsx)(k.Z.Title,{heading:5,style:{marginTop:0},children:"Trending"}),(0,t.jsx)("div",{ref:r})]})]})},ex=e=>(0,t.jsx)("div",{style:{padding:24},children:"WIP"}),eS=(e,i,r)=>ea(e,i,r).map(e=>({category:`${e.caseName} + ${e.metricsName}`,x:es(e),y:en(e.metrics[e.metricsName],"MB")})),eh=e=>{let i=e.productIndex,r=(0,n.useRef)(null),s=(0,n.useRef)(null),l=e=>{let{root:i,results:r}=e,t=eS([r],["rspack-binary-size"],["rspack.linux-x64-gnu"]);s.current?s.current.changeData(t):i&&(s.current=new F.x1(i,{...j,data:t,yAxis:{min:40},tooltip:{fields:["x","y","category","metricsName"],formatter:e=>({name:e.category.split("+")[1].trim(),value:`${e.y} MiB`})},slider:{start:0,end:1}}),s.current.render())};return(0,n.useEffect)(()=>{(async()=>{l({results:await ee(i,"rspack-binary-size"),root:r.current})})()},[]),(0,t.jsx)("div",{style:{padding:24},children:(0,t.jsxs)(K.Z,{bordered:!1,style:{height:464},children:[(0,t.jsx)(k.Z.Title,{heading:5,style:{marginTop:0},children:"Rspack Binary Size"}),(0,t.jsx)("div",{ref:r})]})})},ef=e=>(0,t.jsx)("div",{style:{marginLeft:260,marginTop:56},children:(()=>{if(e.productIndex===d.RSPACK)return e.menuIndex===c.BINARY_SIZE?(0,t.jsx)(eh,{productIndex:e.productIndex}):(0,t.jsx)("div",{style:{padding:24},children:(0,t.jsx)("div",{children:(0,t.jsx)("iframe",{src:"https://web-infra-dev.github.io/rspack-ecosystem-benchmark/",title:"Rspack Benchmark",style:{width:"100%",height:"900px"}})})});switch(e.menuIndex){case c.BUNDLE_SIZE:return(0,t.jsx)(ec,{productIndex:e.productIndex});case c.COMPILE_SPEED:return(0,t.jsx)(em,{productIndex:e.productIndex});case c.INSTALL_SPEED:return(0,t.jsx)(ep,{productIndex:e.productIndex});case c.CLI_SPEED:return(0,t.jsx)(ex,{productIndex:e.productIndex})}return null})()}),ej=l.zo.div`
  min-height: 100vh;
`,eb="web-infra-dev.github.io"===window.location.hostname?"/web-infra-QoS/index":"";(0,r("6254").createRoot)(document.getElementById("root")).render((0,t.jsx)(()=>{let e=new URLSearchParams(window.location.search),i=e.get("product")||d.RSBUILD,r=e.get("metrics")||c.COMPILE_SPEED,[l,a]=(0,n.useState)(i),[o,m]=(0,n.useState)(r),[u,p]=(0,n.useState)([d.RSBUILD,d.RSPACK,d.RSPRESS,d.RSLIB,d.MODERNJS_FRAMEWORK]),[x,S]=(0,n.useState)([`${i}_${r}`]);return(0,n.useEffect)(()=>{window.history.replaceState(null,"",`${eb}?product=${l}&metrics=${o}`)},[l,o]),(0,t.jsx)(s.VK,{basename:eb,children:(0,t.jsxs)(ej,{children:[(0,t.jsx)(B,{}),(0,t.jsx)(A,{openKeys:u,selectedKeys:x,onClickMenuItem:e=>{a(e.split("_")[0]),m(e.split("_")[1]),S([e])},onClickSubMenu:e=>{u.includes(e)?p(u.filter(i=>i!==e)):p([...u,e])}}),(0,t.jsx)(s.Z5,{children:(0,t.jsx)(s.AW,{path:"/",element:(0,t.jsx)(ef,{productIndex:l,menuIndex:o},l)})})]})})},{}))}},i={};function r(t){var s=i[t];if(void 0!==s)return s.exports;var n=i[t]={id:t,loaded:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.loaded=!0,n.exports}r.m=e,r.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(i,{a:i}),i},r.d=function(e,i){for(var t in i)r.o(i,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:i[t]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=function(e){return e.paths=[],!e.children&&(e.children=[]),e},r.nc=void 0,(()=>{var e=[];r.O=function(i,t,s,n){if(t){n=n||0;for(var l=e.length;l>0&&e[l-1][2]>n;l--)e[l]=e[l-1];e[l]=[t,s,n];return}for(var a=1/0,l=0;l<e.length;l++){for(var t=e[l][0],s=e[l][1],n=e[l][2],d=!0,c=0;c<t.length;c++)(!1&n||a>=n)&&Object.keys(r.O).every(function(e){return r.O[e](t[c])})?t.splice(c--,1):(d=!1,n<a&&(a=n));if(d){e.splice(l--,1);var o=s();void 0!==o&&(i=o)}}return i}})(),r.rv=function(){return"1.1.6"},(()=>{var e={980:0};r.O.j=function(i){return 0===e[i]};var i=function(i,t){var s=t[0],n=t[1],l=t[2],a,d,c=0;if(s.some(function(i){return 0!==e[i]})){for(a in n)r.o(n,a)&&(r.m[a]=n[a]);if(l)var o=l(r)}for(i&&i(t);c<s.length;c++)d=s[c],r.o(e,d)&&e[d]&&e[d][0](),e[d]=0;return r.O(o)},t=self.webpackChunkwebsite=self.webpackChunkwebsite||[];t.forEach(i.bind(null,0)),t.push=i.bind(null,t.push.bind(t))})(),r.ruid="bundler=rspack@1.1.6";var t=r.O(void 0,["361","118","935"],function(){return r("4437")});t=r.O(t)})();