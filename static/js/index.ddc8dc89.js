(()=>{"use strict";var e={6026:function(e,t,r){var i=r("5250"),s=r("479"),n=r("5555"),l=r("79");r("9241");var a=r("7903"),d=r("5325");let o={MODERNJS_FRAMEWORK:"modernjs-framework",MODERNJS_MODULE:"modernjs-module",RSBUILD:"rsbuild",RSPRESS:"rspress",RSPACK:"rspack"},c={BUNDLE_SIZE:"bundle-size",COMPILE_SPEED:"compile-speed",INSTALL_SPEED:"install-speed",CLI_SPEED:"cli-speed"},u={[o.MODERNJS_FRAMEWORK]:["app-minimal","app-initial","app-initial-rspack","app-tailwind","app-ssr","app-ssg","app-bff-koa","app-arco-pro","app-arco-pro-swc","app-arco-pro-esbuild","app-arco-pro-rspack"],[o.MODERNJS_MODULE]:["module-initial","module-library","module-library-sourcemap","module-library-noautoexternal","module-library-minify-esbuild","module-library-minify-terser","module-component"],[o.RSPRESS]:["rspress-minimal","rspress-website","rspress-website-mdxjs"],[o.RSBUILD]:["rsbuild-react","rsbuild-arco-pro","rsbuild-vue2","rsbuild-vue3","rsbuild-lit","rsbuild-svelte","rsbuild-vanilla"]},m={[o.MODERNJS_FRAMEWORK]:["app-initial","app-initial-rspack"],[o.MODERNJS_MODULE]:["module-library","module-component"],[o.RSPRESS]:["rspress-website","rspress-website-mdxjs"],[o.RSBUILD]:["rsbuild-react","rsbuild-arco-pro"]},p={[o.MODERNJS_FRAMEWORK]:["minifiedBundleSize","gzippedBundleSize"],[o.MODERNJS_MODULE]:["distSize","gzippedDistSize"],[o.RSPRESS]:["gzipInitialJsSize","initialJsSize","minifiedBundleSize","gzippedBundleSize"],[o.RSBUILD]:["minifiedBundleSize","gzippedBundleSize"]},x={[o.MODERNJS_FRAMEWORK]:["app-arco-pro","app-arco-pro-rspack"],[o.MODERNJS_MODULE]:["module-library","module-component"],[o.RSPRESS]:["rspress-website","rspress-website-mdxjs"],[o.RSBUILD]:["rsbuild-react","rsbuild-arco-pro"]},h={[o.MODERNJS_FRAMEWORK]:["buildColdBootTime","buildHotBootTime","beforeBuildTime","buildPluginSetupTime","buildPrepareTime","devColdBootTime","devHotBootTime","beforeDevTime","devPluginSetupTime","devPrepareTime"],[o.MODERNJS_MODULE]:["buildColdBootTime","beforeBuildTime","buildPluginSetupTime","buildCjsTime","buildEsmTime","buildDtsTime"],[o.RSPRESS]:["buildColdBootTime","devColdBootTime","beforeBuildTime","beforeDevTime","routeGenerateTime"],[o.RSBUILD]:["buildColdBootTime","devColdBootTime","beforeBuildTime","beforeDevTime"]},S={[o.MODERNJS_FRAMEWORK]:["app-initial","app-initial-rspack"],[o.MODERNJS_MODULE]:["module-library","module-component"],[o.RSPRESS]:["rspress-minimal","rspress-website"],[o.RSBUILD]:["rsbuild-vanilla","rsbuild-react"]},f=["installSize","dependenciesCount","coldInstallTime","hotInstallTime"],b={[o.MODERNJS_FRAMEWORK]:f,[o.MODERNJS_MODULE]:f,[o.RSPRESS]:f,[o.RSBUILD]:f},j={height:400,seriesField:"category",xField:"x",yField:"y",xAxis:{label:{formatter:e=>e.split(" ")[0]},nice:!0},yAxis:{nice:!0},point:{size:3},stepType:"vh"},E=a.zo.div`
  position: fixed;
  display: flex;
  z-index: 1;
  top: 0;
  left: 0;
  right: 0;
  height: 56px;
  padding: 4px ${24}px;
  background-color: #fff;
  align-items: center;
  justify-content: space-between;
  border-bottom: 1px solid #e8e8e8;
`,y=a.zo.div`
  display: flex;
  font-size: 18px;
  align-items: center;
  color: #111;
`,g=a.zo.img`
  height: 100%;
`,R=a.zo.div`
  width: 48px;
  height: 36px;
  overflow: hidden;
  margin-right: 16px;
`,D=a.zo.a`
  display: flex;
  align-items: center;
  font-size: 28px;
  color: #222;
`,O=()=>(0,i.jsx)(D,{target:"_blank",href:"https://github.com/web-infra-dev/web-infra-QoS",children:(0,i.jsx)(d.Z,{})}),v=()=>(0,i.jsxs)(E,{className:"nav-bar",children:[(0,i.jsxs)(y,{children:[(0,i.jsx)(R,{children:(0,i.jsx)(g,{src:"/web-infra.png"})}),"Web Infra QoS Dashboard"]}),(0,i.jsx)(O,{})]});r("1018");var M=r("8508"),_=r("9222"),I=r("1524"),N=r("1196"),T=r("2038"),w=r("7819"),B=r("120"),L=r("7752"),P=r("9157");let Z=P.Z.Item,$=P.Z.SubMenu,C={display:"flex",alignItems:"center",height:38,fontSize:13},z=a.zo.div`
  position: fixed;
  top: 56px;
  left: 0;
  bottom: 0;
  width: 260px;
  background: #fff;
  overflow: auto;
`,A=e=>(0,i.jsx)(z,{children:(0,i.jsxs)(P.Z,{mode:"vertical",style:{padding:"16px 4px",fontSize:15},openKeys:e.openKeys,selectedKeys:e.selectedKeys,onClickMenuItem:e.onClickMenuItem,onClickSubMenu:e.onClickSubMenu,children:[(0,i.jsxs)($,{title:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(w.Z,{})," Rsbuild"]}),children:[(0,i.jsxs)(Z,{style:C,children:[(0,i.jsx)(_.Z,{}),"Compile Speed"]},`${o.RSBUILD}_${c.COMPILE_SPEED}`),(0,i.jsxs)(Z,{style:C,children:[(0,i.jsx)(M.Z,{}),"Install Speed"]},`${o.RSBUILD}_${c.INSTALL_SPEED}`),(0,i.jsxs)(Z,{style:C,children:[(0,i.jsx)(I.Z,{}),"Bundle Size"]},`${o.RSBUILD}_${c.BUNDLE_SIZE}`)]},o.RSBUILD),(0,i.jsxs)($,{title:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(T.Z,{})," Rspress"]}),children:[(0,i.jsxs)(Z,{style:C,children:[(0,i.jsx)(_.Z,{}),"Compile Speed"]},`${o.RSPRESS}_${c.COMPILE_SPEED}`),(0,i.jsxs)(Z,{style:C,children:[(0,i.jsx)(M.Z,{}),"Install Speed"]},`${o.RSPRESS}_${c.INSTALL_SPEED}`),(0,i.jsxs)(Z,{style:C,children:[(0,i.jsx)(I.Z,{}),"Bundle Size"]},`${o.RSPRESS}_${c.BUNDLE_SIZE}`)]},o.RSPRESS),(0,i.jsxs)($,{title:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(L.Z,{})," Modern.js Framework"]}),children:[(0,i.jsxs)(Z,{style:C,children:[(0,i.jsx)(_.Z,{}),"Compile Speed"]},`${o.MODERNJS_FRAMEWORK}_${c.COMPILE_SPEED}`),(0,i.jsxs)(Z,{style:C,children:[(0,i.jsx)(M.Z,{}),"Install Speed"]},`${o.MODERNJS_FRAMEWORK}_${c.INSTALL_SPEED}`),(0,i.jsxs)(Z,{style:C,children:[(0,i.jsx)(I.Z,{}),"Bundle Size"]},`${o.MODERNJS_FRAMEWORK}_${c.BUNDLE_SIZE}`)]},o.MODERNJS_FRAMEWORK),(0,i.jsxs)($,{title:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(B.Z,{})," Modern.js Module"]}),children:[(0,i.jsxs)(Z,{style:C,children:[(0,i.jsx)(_.Z,{}),"Compile Speed"]},`${o.MODERNJS_MODULE}_${c.COMPILE_SPEED}`),(0,i.jsxs)(Z,{style:C,children:[(0,i.jsx)(M.Z,{}),"Install Speed"]},`${o.MODERNJS_MODULE}_${c.INSTALL_SPEED}`),(0,i.jsxs)(Z,{style:C,children:[(0,i.jsx)(I.Z,{}),"Bundle Size"]},`${o.MODERNJS_MODULE}_${c.BUNDLE_SIZE}`)]},o.MODERNJS_MODULE),(0,i.jsxs)(Z,{children:[(0,i.jsx)(N.Z,{}),(0,i.jsx)("span",{style:{marginLeft:"4px"},children:"Rspack"})]},o.RSPACK)]})});r("3935"),r("8016");var k=r("108"),U=r("8869"),J=r("5371");r("8705"),r("4536"),r("8421"),r("5744"),r("1237");var K=r("5177"),F=r("2997"),W=r("5039"),H=r("8576"),Q=r("8980");let V=e=>{var t;let{productName:r,metrics:s,initialCase:n}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(k.Z.Title,{heading:6,style:{marginBottom:24},children:"Add category by Cases and Metrics:"}),(0,i.jsxs)(Q.Z.Row,{gutter:40,children:[(0,i.jsx)(Q.Z.Col,{span:8,children:(0,i.jsx)(H.Z.Item,{label:"Cases",field:"caseName",initialValue:n[0],style:{marginBottom:8},children:(0,i.jsx)(F.Z,{children:null===(t=u[r])||void 0===t?void 0:t.map(e=>(0,i.jsx)(F.Z.Option,{value:e,children:e},e))})})}),(0,i.jsx)(Q.Z.Col,{span:8,children:(0,i.jsx)(H.Z.Item,{label:"Metrics",field:"metricsName",initialValue:s[0],style:{marginBottom:8},children:(0,i.jsx)(F.Z,{children:s.map(e=>(0,i.jsx)(F.Z.Option,{value:e,children:e},e))})})}),(0,i.jsx)(Q.Z.Col,{span:8,children:(0,i.jsx)(W.Z,{type:"primary",htmlType:"submit",style:{width:80},children:"Add"})})]})]})},Y=e=>(0,i.jsxs)(U.Z,{bordered:!1,style:{marginBottom:24},children:[(0,i.jsx)(H.Z,{layout:"horizontal",labelAlign:"left",onSubmit:e.handleAddData,children:(0,i.jsx)(V,{...e})}),e.renderChoicesTags()]}),G=(e,t)=>{let[r,s]=(0,l.useState)([{case:e[0],metric:t},{case:e[1],metric:t}]),n=e=>{let t=[...r];t.splice(e,1),s(t)};return{categories:r,handleAddData:e=>{let t={case:e.caseName,metric:e.metricsName};!r.some(t=>t.case===e.caseName&&t.metric===e.metricsName)&&s([...r,t])},renderChoicesTags:()=>(0,i.jsx)("div",{style:{display:"flex",flexWrap:"wrap",marginTop:24},children:r.map((e,t)=>(0,i.jsx)("div",{style:{marginRight:12,marginBottom:12},children:(0,i.jsx)(K.Z,{closable:!0,onClose:()=>n(t),children:`${e.case} + ${e.metric}`},`${e.case}_${e.metric}`)},t))})}};var q=r("5829");let X=async e=>{let t=await q.getItem(e).catch(()=>{});if(t){let{data:e,timestamp:r}=t,i=new Date().getTime();if(i-r<=432e5)return e}let r=await fetch(e).then(e=>e.json()).catch(()=>{});if(r){let t={data:r,timestamp:new Date().getTime()};await q.setItem(e,t)}return r},ee=async(e,t)=>{let r=await X(`/data/${e}/${t}.json`);return Object.keys(r).map(e=>({id:e,time:r[e].time,metrics:r[e]}))};var et=r("8891"),er=r.n(et);let ei=e=>er()(e).format("YY-MM-DD HH:mm"),es=e=>`${ei(e.time)}\u{FF08}${e.id}\u{FF09}`,en=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"KB";return"KB"===t?e/=1024:"MB"===t&&(e=e/1024/1024),Number(e.toFixed(2))},el=e=>Number((e/1e3).toFixed(2)),ea=(e,t,r)=>{let i=[];return e.forEach((e,s)=>{let n=e.map(e=>({...e,caseName:t[s],metricsName:r[s]}));i.push(...n)}),i.sort((e,t)=>e.time-t.time).filter(e=>e.metrics[e.metricsName])},ed=(e,t,r)=>ea(e,t,r).map(e=>({category:`${e.caseName} + ${e.metricsName}`,x:es(e),y:en(e.metrics[e.metricsName])})),eo=e=>{let t=e.productIndex,r=(0,l.useRef)(null),s=(0,l.useRef)(null),{categories:n,handleAddData:a,renderChoicesTags:d}=G(m[t],p[t][0]),c=n.map(e=>e.case),u=n.map(e=>e.metric),x=e=>{let{root:r,results:i,caseNames:n,metricsNames:l}=e,a=ed(i,n,l);s.current?s.current.changeData(a):r&&(s.current=new J.x1(r,{...j,data:a,yAxis:{label:{formatter:e=>`${e} KB`},nice:!0},tooltip:{fields:["x","y","category"],formatter:e=>({name:e.category,value:`${e.y} KB`})},slider:{start:t===o.MODERNJS_FRAMEWORK?.85:0,end:1}}),s.current.render())};return(0,l.useEffect)(()=>{(async()=>{let e=c.map(e=>ee(t,e));x({results:await Promise.all(e),caseNames:c,metricsNames:u,root:r.current})})()},[n]),(0,i.jsxs)("div",{style:{padding:24},children:[(0,i.jsx)(Y,{productName:t,metrics:p[t],initialCase:m[t],handleAddData:a,renderChoicesTags:d}),(0,i.jsxs)(U.Z,{bordered:!1,style:{height:464},children:[(0,i.jsx)(k.Z.Title,{heading:5,style:{marginTop:0},children:"Trending"}),(0,i.jsx)("div",{ref:r})]})]})},ec=(e,t,r)=>ea(e,t,r).map(e=>({category:`${e.caseName} + ${e.metricsName}`,x:es(e),y:el(e.metrics[e.metricsName])})),eu=e=>{let t=e.productIndex,r=(0,l.useRef)(null),s=(0,l.useRef)(null),{categories:n,handleAddData:a,renderChoicesTags:d}=G(x[t],h[t][0]),c=n.map(e=>e.case),u=n.map(e=>e.metric),m=e=>{let{root:r,results:i,caseNames:n,metricsNames:l}=e,a=ec(i,n,l);s.current?s.current.changeData(a):r&&(s.current=new J.x1(r,{...j,data:a,yAxis:{label:{formatter:e=>`${e} s`},nice:!0},tooltip:{fields:["x","y","category"],formatter:e=>({name:e.category,value:e.y+"s"})},slider:{start:t===o.MODERNJS_FRAMEWORK?.85:0,end:1}}),s.current.render())};return(0,l.useEffect)(()=>{(async()=>{let e=c.map(e=>ee(t,e));m({results:await Promise.all(e),caseNames:c,metricsNames:u,root:r.current})})()},[n]),(0,i.jsxs)("div",{style:{padding:24},children:[(0,i.jsx)(Y,{productName:t,metrics:h[t],initialCase:x[t],handleAddData:a,renderChoicesTags:d}),(0,i.jsxs)(U.Z,{bordered:!1,style:{height:464},children:[(0,i.jsx)(k.Z.Title,{heading:5,style:{marginTop:0},children:"Trending"}),(0,i.jsx)("div",{ref:r})]})]})},em=(e,t,r)=>ea(e,t,r).map(e=>{let t;let r=e.metrics[e.metricsName];switch(e.metricsName){case"installSize":t=en(r,"MB");break;case"hotInstallTime":case"coldInstallTime":t=el(r);break;default:t=r}return{metricsName:e.metricsName,category:`${e.caseName} + ${e.metricsName}`,x:es(e),y:t}}),ep=e=>{let t=e.productIndex,r=(0,l.useRef)(null),s=(0,l.useRef)(null),{categories:n,handleAddData:a,renderChoicesTags:d}=G(S[t],b[t][0]),c=n.map(e=>e.case),u=n.map(e=>e.metric),m=e=>{let{root:r,results:i,caseNames:n,metricsNames:l}=e,a=em(i,n,l);s.current?s.current.changeData(a):r&&(s.current=new J.x1(r,{...j,data:a,tooltip:{fields:["x","y","category","metricsName"],formatter:e=>{let t=e.y;return"installSize"===e.metricsName&&(t+="MB"),("coldInstallTime"===e.metricsName||"hotInstallTime"===e.metricsName)&&(t+="s"),{name:e.category,value:t}}},slider:{start:t===o.MODERNJS_FRAMEWORK?.85:0,end:1}}),s.current.render())};return(0,l.useEffect)(()=>{(async()=>{let e=c.map(e=>ee(t,e));m({results:await Promise.all(e),caseNames:c,metricsNames:u,root:r.current})})()},[n]),(0,i.jsxs)("div",{style:{padding:24},children:[(0,i.jsx)(Y,{productName:t,metrics:b[t],initialCase:S[t],handleAddData:a,renderChoicesTags:d}),(0,i.jsxs)(U.Z,{bordered:!1,style:{height:464},children:[(0,i.jsx)(k.Z.Title,{heading:5,style:{marginTop:0},children:"Trending"}),(0,i.jsx)("div",{ref:r})]})]})},ex=e=>(0,i.jsx)("div",{style:{padding:24},children:"WIP"}),eh=e=>(0,i.jsx)("div",{style:{marginLeft:260,marginTop:56},children:(()=>{if(e.productIndex===o.RSPACK)return(0,i.jsx)("div",{style:{padding:24},children:(0,i.jsx)("div",{children:(0,i.jsx)("iframe",{src:"https://web-infra-dev.github.io/rspack-ecosystem-benchmark/",title:"Rspack Benchmark",style:{width:"100%",height:"900px"}})})});switch(e.menuIndex){case c.BUNDLE_SIZE:return(0,i.jsx)(eo,{productIndex:e.productIndex});case c.COMPILE_SPEED:return(0,i.jsx)(eu,{productIndex:e.productIndex});case c.INSTALL_SPEED:return(0,i.jsx)(ep,{productIndex:e.productIndex});case c.CLI_SPEED:return(0,i.jsx)(ex,{productIndex:e.productIndex})}return null})()}),eS=a.zo.div`
  min-height: 100vh;
`,ef="web-infra-dev.github.io"===window.location.hostname?"/web-infra-QoS/index":"";(0,r("9581").render)((0,i.jsx)(()=>{let e=new URLSearchParams(window.location.search),t=e.get("product")||o.RSBUILD,r=e.get("metrics")||c.COMPILE_SPEED,[a,d]=(0,l.useState)(t),[u,m]=(0,l.useState)(r),[p,x]=(0,l.useState)([`${t}`]),[h,S]=(0,l.useState)([`${t}_${r}`]);return(0,l.useEffect)(()=>{window.history.replaceState(null,"",`${ef}?product=${a}&metrics=${u}`)},[a,u]),(0,i.jsx)(s.VK,{basename:ef,children:(0,i.jsxs)(eS,{children:[(0,i.jsx)(v,{}),(0,i.jsx)(A,{openKeys:p,selectedKeys:h,onClickMenuItem:e=>{d(e.split("_")[0]),m(e.split("_")[1]),S([e])},onClickSubMenu:e=>{p.includes(e)?x(p.filter(t=>t!==e)):x([...p,e])}}),(0,i.jsx)(n.Z5,{children:(0,i.jsx)(n.AW,{path:"/",element:(0,i.jsx)(eh,{productIndex:a,menuIndex:u},a)})})]})})},{}),document.getElementById("root"))}},t={};function r(i){var s=t[i];if(void 0!==s)return s.exports;var n=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.loaded=!0,n.exports}r.m=e,r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};r.t=function(i,s){if(1&s&&(i=this(i)),8&s||"object"==typeof i&&i&&(4&s&&i.__esModule||16&s&&"function"==typeof i.then))return i;var n=Object.create(null);r.r(n);var l={};e=e||[null,t({}),t([]),t(t)];for(var a=2&s&&i;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(function(e){l[e]=function(){return i[e]}});return l.default=function(){return i},r.d(n,l),n}})(),r.d=function(e,t){for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=function(e){return e.paths=[],!e.children&&(e.children=[]),e},r.nc=void 0,(()=>{var e=[];r.O=function(t,i,s,n){if(i){n=n||0;for(var l=e.length;l>0&&e[l-1][2]>n;l--)e[l]=e[l-1];e[l]=[i,s,n];return}for(var a=1/0,l=0;l<e.length;l++){for(var i=e[l][0],s=e[l][1],n=e[l][2],d=!0,o=0;o<i.length;o++)(!1&n||a>=n)&&Object.keys(r.O).every(function(e){return r.O[e](i[o])})?i.splice(o--,1):(d=!1,n<a&&(a=n));if(d){e.splice(l--,1);var c=s();void 0!==c&&(t=c)}}return t}})(),r.rv=function(){return"1.0.0-beta.5"},(()=>{var e={980:0};r.O.j=function(t){return 0===e[t]};var t=function(t,i){var s=i[0],n=i[1],l=i[2],a,d,o=0;if(s.some(function(t){return 0!==e[t]})){for(a in n)r.o(n,a)&&(r.m[a]=n[a]);if(l)var c=l(r)}for(t&&t(i);o<s.length;o++)d=s[o],r.o(e,d)&&e[d]&&e[d][0](),e[d]=0;return r.O(c)},i=self.webpackChunkwebsite=self.webpackChunkwebsite||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),r.ruid="bundler=rspack@1.0.0-beta.5";var i=r.O(void 0,["707","361","118","387"],function(){return r("6026")});i=r.O(i)})();